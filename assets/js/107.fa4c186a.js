(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{444:function(s,a,e){"use strict";e.r(a);var t=e(2),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"安装homebrew-homebrew国内源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装homebrew-homebrew国内源"}},[s._v("#")]),s._v(" 安装Homebrew (Homebrew国内源)")]),s._v(" "),a("p",[s._v("-----------------------------安装 homebrew 开始------------------------------")]),s._v(" "),a("p",[s._v("现在可以直接用 "),a("code",[s._v("cunkai")]),s._v(" 的 "),a("a",{attrs:{href:"https://gitee.com/cunkai/HomebrewCN/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://gitee.com/cunkai/HomebrewCN/"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("Mac 安装脚本：（推荐 优点全面 缺点慢一点）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('/bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("Mac 卸载脚本：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('/bin/zsh -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/HomebrewUninstall.sh)"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("-----------------------------安装 homebrew 结束------------------------------")]),s._v(" "),a("h2",{attrs:{id:"使用-brew-安装-python"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-brew-安装-python"}},[s._v("#")]),s._v(" 使用 brew 安装 python")]),s._v(" "),a("p",[s._v("-----------------------------安装 python 开始------------------------------")]),s._v(" "),a("p",[a("strong",[s._v("查询 "),a("code",[s._v("python3")]),s._v(" 所有有效版本")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("brew search python3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/04/21/bIAV3moae9cZuvw.png",alt:""}})]),s._v(" "),a("p",[s._v("我这里已经安装了"),a("code",[s._v("python@3.9")]),s._v(" 所以后面会有对号")]),s._v(" "),a("p",[a("strong",[s._v("安装")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("brew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python@3.9\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("修改 python3 别名")])]),s._v(" "),a("p",[s._v("由于 Xcode 需要使用系统自带的 "),a("code",[s._v("python2.7")]),s._v(" 所以系统的 "),a("code",[s._v("python")]),s._v(" 别名")]),s._v(" "),a("p",[s._v("终端使用的是 bash：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("终端使用的是zsh：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim .zprofile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("添加：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Python")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("python2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("python3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/usr/local/Cellar/python@3.9/3.9.4/bin/python3.9'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("python")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("python3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("生效：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("或")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .zprofile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("验证安装结果")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/04/21/wHPjaJXo3NDqgW6.png",alt:""}})]),s._v(" "),a("p",[s._v("----------------------------安装 python 结束------------------------------")]),s._v(" "),a("h2",{attrs:{id:"安装-frida"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-frida"}},[s._v("#")]),s._v(" 安装 frida")]),s._v(" "),a("p",[a("strong",[s._v("手机安装：")])]),s._v(" "),a("p",[s._v("cydia添加：https://build.frida.re/ 源，并下载安装 "),a("code",[s._v("frida")])]),s._v(" "),a("p",[a("strong",[s._v("Mac 安装：")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" frida-tools\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("确保手机和Mac上安装的 "),a("code",[s._v("frida")]),s._v(" 版本保持一致")]),s._v(" "),a("p",[a("strong",[s._v("安装"),a("code",[s._v("usbmuxd")]),s._v("与手机通信")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("brew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" usbmuxd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("下载 frida-ios-dump 脚本")])]),s._v(" "),a("p",[s._v("下载："),a("a",{attrs:{href:"https://github.com/AloneMonkey/frida-ios-dump",target:"_blank",rel:"noopener noreferrer"}},[s._v("frida-ios-dump"),a("OutboundLink")],1),s._v(" 并保存到 opt/dump/ 下：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" colne https://github.com/AloneMonkey/frida-ios-dump.git /opt/dump/frida-ios-dump-master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("安装 dump.py 脚本的依赖：")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/dump/frida-ios-dump\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" requirements.txt "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--upgrade")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("添加 dump.py 别名：")])]),s._v(" "),a("p",[s._v("终端使用的是 bash：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("终端使用的是zsh：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim .zprofile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("添加：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# frida-dump\nalias frida-dump="python3 /opt/dump/frida-ios-dump-master/dump.py"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("生效：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("或")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .zprofile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("这里注意：")]),s._v(" 网络上的陈旧资料都是 "),a("code",[s._v('alias dump.py="/opt/dump/frida-ios-dump-master/dump.py"')]),s._v(" ，但是实际终端调用 "),a("code",[s._v("dump.py")]),s._v(" 时会默认调用系统2.7版本的python，会报缺少 frida库的错误。")]),s._v(" "),a("p",[s._v("使用：查看手机进程列表")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v(" frida-dump "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"砸壳"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#砸壳"}},[s._v("#")]),s._v(" 砸壳")]),s._v(" "),a("p",[a("strong",[s._v("通过"),a("code",[s._v("USB")]),s._v("使用"),a("code",[s._v("ssh")]),s._v("连接越狱设备，将"),a("code",[s._v("22")]),s._v("映射到电脑上的"),a("code",[s._v("2222端口")])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("iproxy "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/04/21/w2vXngNWF4bfmTh.png",alt:""}})]),s._v(" "),a("p",[a("strong",[s._v("另开终端加入连接 密码为设备的登录密码"),a("code",[s._v("alpine")]),s._v("，需要保持连接")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v(" root@127.0.0.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("或")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@127.0.0.1 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/04/21/XNSjdvtTqJHgPE9.png",alt:""}})]),s._v(" "),a("p",[a("strong",[s._v("再开终端开始砸壳你想要分析的App，命令如下：")])]),s._v(" "),a("p",[s._v("查看手机进程")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v(" frida-dump "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/04/21/D2TgbrJUcRfS5Gw.png",alt:""}})]),s._v(" "),a("p",[a("strong",[s._v("砸壳：")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("frida-dump "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#pid# 或 #name# 或 #identifier# -o #输出ipa的路径，默认当前路径#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("以今日头条为例：")]),s._v(" "),a("p",[s._v("手机打开日头条")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("frida-dump 今日头条 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" Desktop/News.ipa\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/04/21/1IfkbuDdGprScVo.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"工具："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具："}},[s._v("#")]),s._v(" 工具：")]),s._v(" "),a("p",[s._v("脱壳之后，我们就可以拿到"),a("strong",[s._v("未加密的可执行文件")]),s._v("了，可以用"),a("code",[s._v("MacOView工具")]),s._v("观察，也可以用"),a("code",[s._v("class-dump工具")]),s._v("导出头文件，也可以用"),a("code",[s._v("Hopper Disassembler工具")]),s._v("分析汇编代码和伪代码...")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/theos/theos/wiki",target:"_blank",rel:"noopener noreferrer"}},[a("strong",[s._v("theos")]),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("安装：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.zprofile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("THEOS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/theos\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$THEOS")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .zprofile\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--recursive")]),s._v(" git://github.com/DHowett/theos.git "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$THEOS")]),s._v("\nbrew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ldid\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("strong",[s._v("Mach-O 分析：")])]),s._v(" "),a("p",[s._v("class-dump：")]),s._v(" "),a("blockquote",[a("p",[s._v("下载： "),a("a",{attrs:{href:"https://github.com/AloneMonkey/MonkeyDev",target:"_blank",rel:"noopener noreferrer"}},[s._v("MonkeyDev"),a("OutboundLink")],1),s._v(" /bin 下的 class-dump（别问为什么用这个，问就是这个可以dump混编项目的头文件），克隆项目到本地将/bin目录下的class-dump cp 到/usr/local/bin/下\n使用：class-dump -s -S -H Mach-O文件 -o 输出路径")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.hopperapp.com%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("Hopper Disassembler"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fgdbinit%2FMachOView",target:"_blank",rel:"noopener noreferrer"}},[s._v("MachOView"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.hex-rays.com%2Fproducts%2Fida%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("IDA"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("LLDB")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2FAloneMonkey%2FMonkeyDev%2Fwiki",target:"_blank",rel:"noopener noreferrer"}},[s._v("MonkeyDev"),a("OutboundLink")],1)]),s._v(" "),a("ol",[a("li",[a("p",[s._v("注意：>=Xcode12的版本")]),s._v(" "),a("p",[s._v("再安装前执行：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/Library/Xcode/PrivatePlugIns/IDEOSXSupportCore.ideplugin/Contents/Resources /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/Library/Xcode/Specifications\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后安装：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /bin/sh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fsSL")]),s._v(" https://raw.githubusercontent.com/AloneMonkey/MonkeyDev/master/bin/md-install"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在 "),a("code",[s._v("Dylib")]),s._v(" target 添加："),a("code",[s._v("CODE_SIGNING_ALLOWED=NO")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://i.loli.net/2021/04/23/LfE4o6NMcirJZP5.png",alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("添加 "),a("code",[s._v("ibstdc++.dylib")]),s._v(" 库：")]),s._v(" "),a("p",[s._v("添加方法：https://github.com/devdawei/libstdc-")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /bin/sh install-Xcode_12.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[a("strong",[s._v("UI层级分析：")])]),s._v(" "),a("p",[s._v("Cycript")]),s._v(" "),a("p",[s._v("Reveal")]),s._v(" "),a("p",[s._v("FLEXLoader")]),s._v(" "),a("p",[a("strong",[s._v("辅助工具")])]),s._v(" "),a("p",[s._v("iFunBox、OpenSSH、Cydia")]),s._v(" "),a("h2",{attrs:{id:"常用命令："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令："}},[s._v("#")]),s._v(" 常用命令：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("frida-trace "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" com.tdcm.truemoneywallet "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*[* viewDidLoad]"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看oc函数调用")]),s._v("\nfrida-trace "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-U")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" com.tdcm.truemoneywallet "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" fopen "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看c函数调用")]),s._v("\nfrida-dump "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看手机进程 pid｜name｜bundleid ")]),s._v("\nideviceinstaller "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看手机进程 FBundleIdentifier, CFBundleVersion, CFBundleDisplayName")]),s._v("\nidevicesyslog "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看nslog xxx为查询关键词")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("strong",[s._v("end～")])])])}),[],!1,null,null,null);a.default=r.exports}}]);