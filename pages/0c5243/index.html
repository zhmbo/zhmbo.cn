<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>《Swift编程语言》- 语句 | zhmbo</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/img/favicon.ico">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/MouseClickEffect.js"></script>
    <script src="/js/FooterFish.js"></script>
    <meta name="description" content="zhmbo的技术博客,专注iOS技术分享,iOS,OC,Objective-C,Swift,SwiftUI,Apple,上架,Flutter,OpenGL,Xcode,Github,RxSwift,算法,架构,面试,zhmbo,zb,ZB,zhmbo,jumbo">
    <meta name="keywords" content="zhmbo,zhmbo,zhangbao,zhmbo的技术博客,个人博客,博客搭建,专注iOS技术分享,iOS,iOS进阶,iOS高级,OC,Objective-C,Swift,SwiftUI,Apple,上架,Flutter,OpenGL,Xcode,RxSwift,UIButton,UITableView,网络请求,Github,GithubActions,算法,架构,面试,zb,ZB,zhmbo,jumbo">
    <meta name="baidu-site-verification" content="code-l7ZsTFnxp5">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.8e525da2.css" as="style"><link rel="preload" href="/assets/js/app.f91ba302.js" as="script"><link rel="preload" href="/assets/js/2.dd713b59.js" as="script"><link rel="preload" href="/assets/js/3.069de0ac.js" as="script"><link rel="preload" href="/assets/js/44.24cf9514.js" as="script"><link rel="prefetch" href="/assets/js/10.eca7f202.js"><link rel="prefetch" href="/assets/js/100.884f2e2c.js"><link rel="prefetch" href="/assets/js/101.77e3c5d7.js"><link rel="prefetch" href="/assets/js/102.fbb46419.js"><link rel="prefetch" href="/assets/js/103.4285ab2f.js"><link rel="prefetch" href="/assets/js/104.b9d45e83.js"><link rel="prefetch" href="/assets/js/105.9af86ee7.js"><link rel="prefetch" href="/assets/js/106.f8baee69.js"><link rel="prefetch" href="/assets/js/107.fa4c186a.js"><link rel="prefetch" href="/assets/js/108.155cdba8.js"><link rel="prefetch" href="/assets/js/11.d5dc511b.js"><link rel="prefetch" href="/assets/js/12.126fd524.js"><link rel="prefetch" href="/assets/js/13.31add050.js"><link rel="prefetch" href="/assets/js/14.8f5927ce.js"><link rel="prefetch" href="/assets/js/15.5d73bb50.js"><link rel="prefetch" href="/assets/js/16.b7715387.js"><link rel="prefetch" href="/assets/js/17.b3336126.js"><link rel="prefetch" href="/assets/js/18.f0bd764d.js"><link rel="prefetch" href="/assets/js/19.7f321d7b.js"><link rel="prefetch" href="/assets/js/20.8a704687.js"><link rel="prefetch" href="/assets/js/21.6c9b4fd0.js"><link rel="prefetch" href="/assets/js/22.ce92c244.js"><link rel="prefetch" href="/assets/js/23.cbae088c.js"><link rel="prefetch" href="/assets/js/24.64936988.js"><link rel="prefetch" href="/assets/js/25.6ff36218.js"><link rel="prefetch" href="/assets/js/26.192e5aa3.js"><link rel="prefetch" href="/assets/js/27.5d49847d.js"><link rel="prefetch" href="/assets/js/28.865bfa0a.js"><link rel="prefetch" href="/assets/js/29.652b637f.js"><link rel="prefetch" href="/assets/js/30.2d2405ab.js"><link rel="prefetch" href="/assets/js/31.ff15975d.js"><link rel="prefetch" href="/assets/js/32.319807cb.js"><link rel="prefetch" href="/assets/js/33.b87269c8.js"><link rel="prefetch" href="/assets/js/34.2c88022c.js"><link rel="prefetch" href="/assets/js/35.090f353e.js"><link rel="prefetch" href="/assets/js/36.ef1f9b0b.js"><link rel="prefetch" href="/assets/js/37.ba5ce128.js"><link rel="prefetch" href="/assets/js/38.3c99d047.js"><link rel="prefetch" href="/assets/js/39.20a400e2.js"><link rel="prefetch" href="/assets/js/4.39a2702d.js"><link rel="prefetch" href="/assets/js/40.0f612174.js"><link rel="prefetch" href="/assets/js/41.c39b1818.js"><link rel="prefetch" href="/assets/js/42.73cd76fc.js"><link rel="prefetch" href="/assets/js/43.fec22db6.js"><link rel="prefetch" href="/assets/js/45.1a7bd4ad.js"><link rel="prefetch" href="/assets/js/46.2772e34b.js"><link rel="prefetch" href="/assets/js/47.b4eeef41.js"><link rel="prefetch" href="/assets/js/48.6e849ea1.js"><link rel="prefetch" href="/assets/js/49.e0c5a13d.js"><link rel="prefetch" href="/assets/js/5.5d94312a.js"><link rel="prefetch" href="/assets/js/50.773364d5.js"><link rel="prefetch" href="/assets/js/51.1db99b25.js"><link rel="prefetch" href="/assets/js/52.8c4dc63b.js"><link rel="prefetch" href="/assets/js/53.ebf1abab.js"><link rel="prefetch" href="/assets/js/54.016f21d7.js"><link rel="prefetch" href="/assets/js/55.73199a2d.js"><link rel="prefetch" href="/assets/js/56.3316e67d.js"><link rel="prefetch" href="/assets/js/57.57c6a9d7.js"><link rel="prefetch" href="/assets/js/58.65589959.js"><link rel="prefetch" href="/assets/js/59.abcabc64.js"><link rel="prefetch" href="/assets/js/6.8a416018.js"><link rel="prefetch" href="/assets/js/60.d382d1c3.js"><link rel="prefetch" href="/assets/js/61.c76620c7.js"><link rel="prefetch" href="/assets/js/62.44f03a5b.js"><link rel="prefetch" href="/assets/js/63.92fa470c.js"><link rel="prefetch" href="/assets/js/64.2475bc0a.js"><link rel="prefetch" href="/assets/js/65.e33c22e2.js"><link rel="prefetch" href="/assets/js/66.b213e189.js"><link rel="prefetch" href="/assets/js/67.54079f5f.js"><link rel="prefetch" href="/assets/js/68.9490fd8d.js"><link rel="prefetch" href="/assets/js/69.c9253eff.js"><link rel="prefetch" href="/assets/js/7.369ac24e.js"><link rel="prefetch" href="/assets/js/70.1c59f92a.js"><link rel="prefetch" href="/assets/js/71.3492471a.js"><link rel="prefetch" href="/assets/js/72.cec16c5f.js"><link rel="prefetch" href="/assets/js/73.50e8862b.js"><link rel="prefetch" href="/assets/js/74.086f16c5.js"><link rel="prefetch" href="/assets/js/75.5554210f.js"><link rel="prefetch" href="/assets/js/76.dfb35acc.js"><link rel="prefetch" href="/assets/js/77.440dde49.js"><link rel="prefetch" href="/assets/js/78.22d12fc4.js"><link rel="prefetch" href="/assets/js/79.7805a9b0.js"><link rel="prefetch" href="/assets/js/8.dd8ea451.js"><link rel="prefetch" href="/assets/js/80.0f6e99d9.js"><link rel="prefetch" href="/assets/js/81.775865b4.js"><link rel="prefetch" href="/assets/js/82.b0a6a6bc.js"><link rel="prefetch" href="/assets/js/83.b4431f89.js"><link rel="prefetch" href="/assets/js/84.9266dd31.js"><link rel="prefetch" href="/assets/js/85.6250c179.js"><link rel="prefetch" href="/assets/js/86.8def8d74.js"><link rel="prefetch" href="/assets/js/87.ae604169.js"><link rel="prefetch" href="/assets/js/88.ea0b4861.js"><link rel="prefetch" href="/assets/js/89.86dbd55a.js"><link rel="prefetch" href="/assets/js/9.d1ab447d.js"><link rel="prefetch" href="/assets/js/90.9225e7d0.js"><link rel="prefetch" href="/assets/js/91.f6bbf533.js"><link rel="prefetch" href="/assets/js/92.a7f31cba.js"><link rel="prefetch" href="/assets/js/93.540860df.js"><link rel="prefetch" href="/assets/js/94.2e3d73ab.js"><link rel="prefetch" href="/assets/js/95.e35292b9.js"><link rel="prefetch" href="/assets/js/96.c8174b05.js"><link rel="prefetch" href="/assets/js/97.f7b36c87.js"><link rel="prefetch" href="/assets/js/98.555706b2.js"><link rel="prefetch" href="/assets/js/99.70b5aa9a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8e525da2.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div class="width-limit"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link"><img src="https://cdn.jsdelivr.net/gh/zhmbo/static@master/img/202407311741918.png" alt="zhmbo" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont jumbo-nav-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><a href="/ios/" class="link-title"><i class="iconfont jumbo-apple"></i>
      iOS
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-apple"></i>
      iOS
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>iOS开发精髓</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3f0170/" class="nav-link"><i class="iconfont undefined"></i>
  介绍
</a></li><li class="dropdown-subitem"><a href="/pages/7354af/" class="nav-link"><i class="iconfont undefined"></i>
  从入门
</a></li><li class="dropdown-subitem"><a href="/pages/1b29d1/" class="nav-link"><i class="iconfont undefined"></i>
  到放弃
</a></li></ul></li><li class="dropdown-item"><h4>iOS充电宝</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cb5f0/" class="nav-link"><i class="iconfont undefined"></i>
  SwiftUI
</a></li><li class="dropdown-subitem"><a href="/pages/9e761f/" class="nav-link"><i class="iconfont undefined"></i>
  iOS14
</a></li><li class="dropdown-subitem"><a href="/pages/5e2170/" class="nav-link"><i class="iconfont undefined"></i>
  Xcode12
</a></li><li class="dropdown-subitem"><a href="/pages/554b82/" class="nav-link"><i class="iconfont undefined"></i>
  iOS周边
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Swift" class="dropdown-title"><a href="/swift/" class="link-title"><i class="iconfont jumbo-swift"></i>
      Swift
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-swift"></i>
      Swift
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/04ed05/" class="nav-link"><i class="iconfont undefined"></i>
  概览
</a></li><li class="dropdown-item"><!----> <a href="/pages/cf2b9a/" class="nav-link"><i class="iconfont undefined"></i>
  欢迎来到Swift
</a></li><li class="dropdown-item"><!----> <a href="/pages/9e2f81/" class="nav-link"><i class="iconfont undefined"></i>
  Swift语法
</a></li><li class="dropdown-item"><!----> <a href="/pages/581348/" class="nav-link"><i class="iconfont undefined"></i>
  语言参考
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title"><i class="iconfont jumbo-jishu"></i>
      技术
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-jishu"></i>
      技术
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4f2c93/" class="nav-link"><i class="iconfont undefined"></i>
  博客
</a></li><li class="dropdown-item"><!----> <a href="/pages/6cbba7/" class="nav-link"><i class="iconfont undefined"></i>
  Github
</a></li><li class="dropdown-item"><!----> <a href="/pages/d9a627/" class="nav-link"><i class="iconfont undefined"></i>
  CocosCreator
</a></li><li class="dropdown-item"><!----> <a href="/pages/9af5e1/" class="nav-link"><i class="iconfont undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/pages/46944a/" class="nav-link"><i class="iconfont undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/pages/4b617e/" class="nav-link"><i class="iconfont undefined"></i>
  Android
</a></li><li class="dropdown-item"><!----> <a href="/pages/6ee1a4/" class="nav-link"><i class="iconfont undefined"></i>
  Git
</a></li></ul></div></div><div class="nav-item"><a href="/leaveword/" class="nav-link"><i class="iconfont jumbo-liuyan"></i>
  留言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title"><i class="iconfont jumbo-suoyin"></i>
      索引
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-suoyin"></i>
      索引
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link"><i class="iconfont undefined"></i>
  分类
</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link"><i class="iconfont undefined"></i>
  标签
</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link"><i class="iconfont undefined"></i>
  归档
</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link"><i class="iconfont undefined"></i>
  友链
</a></li><li class="dropdown-item"><!----> <a href="/navigation/" class="nav-link"><i class="iconfont undefined"></i>
  导航
</a></li><li class="dropdown-item"><!----> <a href="/findme/" class="nav-link"><i class="iconfont undefined"></i>
  寻Me
</a></li></ul></div></div> <!----></nav></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/zhmbo/static@master/img/20200919111632.png"> <div class="blogger-info"><h3>@jumbo</h3> <span>an ios developer</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont jumbo-nav-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS" class="dropdown-title"><a href="/ios/" class="link-title"><i class="iconfont jumbo-apple"></i>
      iOS
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-apple"></i>
      iOS
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>iOS开发精髓</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3f0170/" class="nav-link"><i class="iconfont undefined"></i>
  介绍
</a></li><li class="dropdown-subitem"><a href="/pages/7354af/" class="nav-link"><i class="iconfont undefined"></i>
  从入门
</a></li><li class="dropdown-subitem"><a href="/pages/1b29d1/" class="nav-link"><i class="iconfont undefined"></i>
  到放弃
</a></li></ul></li><li class="dropdown-item"><h4>iOS充电宝</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5cb5f0/" class="nav-link"><i class="iconfont undefined"></i>
  SwiftUI
</a></li><li class="dropdown-subitem"><a href="/pages/9e761f/" class="nav-link"><i class="iconfont undefined"></i>
  iOS14
</a></li><li class="dropdown-subitem"><a href="/pages/5e2170/" class="nav-link"><i class="iconfont undefined"></i>
  Xcode12
</a></li><li class="dropdown-subitem"><a href="/pages/554b82/" class="nav-link"><i class="iconfont undefined"></i>
  iOS周边
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Swift" class="dropdown-title"><a href="/swift/" class="link-title"><i class="iconfont jumbo-swift"></i>
      Swift
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-swift"></i>
      Swift
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/04ed05/" class="nav-link"><i class="iconfont undefined"></i>
  概览
</a></li><li class="dropdown-item"><!----> <a href="/pages/cf2b9a/" class="nav-link"><i class="iconfont undefined"></i>
  欢迎来到Swift
</a></li><li class="dropdown-item"><!----> <a href="/pages/9e2f81/" class="nav-link"><i class="iconfont undefined"></i>
  Swift语法
</a></li><li class="dropdown-item"><!----> <a href="/pages/581348/" class="nav-link"><i class="iconfont undefined"></i>
  语言参考
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title"><i class="iconfont jumbo-jishu"></i>
      技术
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-jishu"></i>
      技术
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4f2c93/" class="nav-link"><i class="iconfont undefined"></i>
  博客
</a></li><li class="dropdown-item"><!----> <a href="/pages/6cbba7/" class="nav-link"><i class="iconfont undefined"></i>
  Github
</a></li><li class="dropdown-item"><!----> <a href="/pages/d9a627/" class="nav-link"><i class="iconfont undefined"></i>
  CocosCreator
</a></li><li class="dropdown-item"><!----> <a href="/pages/9af5e1/" class="nav-link"><i class="iconfont undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/pages/46944a/" class="nav-link"><i class="iconfont undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/pages/4b617e/" class="nav-link"><i class="iconfont undefined"></i>
  Android
</a></li><li class="dropdown-item"><!----> <a href="/pages/6ee1a4/" class="nav-link"><i class="iconfont undefined"></i>
  Git
</a></li></ul></div></div><div class="nav-item"><a href="/leaveword/" class="nav-link"><i class="iconfont jumbo-liuyan"></i>
  留言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title"><i class="iconfont jumbo-suoyin"></i>
      索引
    </a> <span class="title" style="display:none;"><i class="iconfont jumbo-suoyin"></i>
      索引
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link"><i class="iconfont undefined"></i>
  分类
</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link"><i class="iconfont undefined"></i>
  标签
</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link"><i class="iconfont undefined"></i>
  归档
</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link"><i class="iconfont undefined"></i>
  友链
</a></li><li class="dropdown-item"><!----> <a href="/navigation/" class="nav-link"><i class="iconfont undefined"></i>
  导航
</a></li><li class="dropdown-item"><!----> <a href="/findme/" class="nav-link"><i class="iconfont undefined"></i>
  寻Me
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/04ed05/" class="sidebar-link">概览</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>欢迎来到Swift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Swift语法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>语言参考</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/581348/" class="sidebar-link">关于语言参考</a></li><li><a href="/pages/4b779c/" class="sidebar-link">词法结构</a></li><li><a href="/pages/c85eb2/" class="sidebar-link">类型</a></li><li><a href="/pages/c2fef9/" class="sidebar-link">表达式</a></li><li><a href="/pages/0c5243/" aria-current="page" class="active sidebar-link">语句</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/0c5243/#sourcelocation-file-file-path-line-line-number" class="sidebar-link">sourceLocation(file: file path, line: line number)</a></li><li class="sidebar-sub-header"><a href="/pages/0c5243/#sourcelocation" class="sidebar-link">sourceLocation()</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/0c5243/#可用性条件" class="sidebar-link">可用性条件</a></li></ul></li></ul></li><li><a href="/pages/756349/" class="sidebar-link">声明</a></li><li><a href="/pages/629202/" class="sidebar-link">特性</a></li><li><a href="/pages/55b4cd/" class="sidebar-link">模式</a></li><li><a href="/pages/a84bcd/" class="sidebar-link">泛型参数</a></li><li><a href="/pages/258164/" class="sidebar-link">语法总结</a></li></ul></section></li></ul> </aside> <div><main class="page"> <div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-7e90c5a4><div class="articleInfo" data-v-7e90c5a4><ul class="breadcrumbs" data-v-7e90c5a4><li data-v-7e90c5a4><a href="/" title="首页" class="iconfont jumbo-home router-link-active" data-v-7e90c5a4></a></li> <li data-v-7e90c5a4><a href="/categories/?category=Swift%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80" title="分类" data-v-7e90c5a4>Swift编程语言</a></li> <li data-v-7e90c5a4><a href="/categories/?category=%E8%AF%AD%E8%A8%80%E5%8F%82%E8%80%83" title="分类" data-v-7e90c5a4>语言参考</a></li></ul> <div class="info" data-v-7e90c5a4><div title="作者" class="author iconfont jumbo-author" data-v-7e90c5a4><a href="https://github.com/zhmbo" target="_blank" title="作者" class="beLink" data-v-7e90c5a4>zhmbo</a></div> <div title="创建时间" class="date iconfont jumbo-time" data-v-7e90c5a4><a href="javascript:;" data-v-7e90c5a4>2020-11-11</a></div> <div title="统计" class="date iconfont jumbo-eye" data-v-7e90c5a4><span id="/pages/0c5243/" data-flag-title="《Swift编程语言》- 语句" class="leancloud-visitors" data-v-7e90c5a4><a class="leancloud-visitors-count" style="font-size:.7rem;font-weight:normal;color:#999;"></a></span></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          《Swift编程语言》- 语句
        </h1> <div class="theme-vdoing-content content__default"><p>在 Swift 中，有三种类型的语句：简单语句、编译器控制语句和控制流语句。简单语句是最常见的，用于构造表达式或者声明。编译器控制语句允许程序改变编译器的行为，包含编译配置语句和行控制语句。</p> <p>控制流语句则用于控制程序执行的流程，Swift 中有多种类型的控制流语句：循环语句、分支语句和控制转移语句。循环语句用于重复执行代码块；分支语句用于执行满足特定条件的代码块；控制转移语句则用于改变代码的执行顺序。另外，Swift 提供了 <code>do</code> 语句，用于构建局部作用域，还用于错误的捕获和处理；还提供了 <code>defer</code> 语句，用于退出当前作用域之前执行清理操作。</p> <p>是否将分号（<code>;</code>）添加到语句的末尾是可选的。但若要在同一行内写多条独立语句，则必须使用分号。</p> <blockquote><p>语句语法</p> <p><em>语句</em> → <a href="">表达式</a> **;**可选</p> <p><em>语句</em> → <a href="">声明</a> **;**可选</p> <p><em>语句</em> → <a href="">循环语句</a> **;**可选</p> <p><em>语句</em> → <a href="">分支语句</a> **;**可选</p> <p><em>语句</em> → <a href="">带标签的语句</a> **;**可选</p> <p><em>语句</em> → <a href="">控制转移语句</a> **;**可选</p> <p><em>语句</em> → <a href="">defer 语句</a> **;**可选</p> <p><em>语句</em> → <a href="">do 语句</a> **😗*可选</p> <p><em>语句</em> → <a href="">编译器控制语句</a></p> <p><em>多条语句</em> → <a href="">语句</a> <a href="">多条语句</a>可选</p></blockquote> <h3 id="循环语句"><a href="#循环语句" class="header-anchor">#</a> 循环语句</h3> <p>循环语句会根据特定的循环条件来重复执行代码块。Swift 提供三种类型的循环语句：<code>for-in</code> 语句、<code>while</code> 语句和 <code>repeat-while</code> 语句。</p> <p>通过 <code>break</code> 语句和 <code>continue</code> 语句可以改变循环语句的控制流。有关这两条语句，详情参阅 <a href="">Break 语句</a> 和 <a href="">Continue 语句</a>。</p> <blockquote><p>循环语句语法</p></blockquote> <p><strong>loop-statement</strong></p> <blockquote><p><em>循环语句</em> → <a href="">for-in 语句</a></p> <p><em>循环语句</em> → <a href="">while 语句</a></p> <p><em>循环语句</em> → <a href="">repeat-while 语句</a></p></blockquote> <h4 id="for-in-语句"><a href="#for-in-语句" class="header-anchor">#</a> For-In 语句</h4> <p><code>for-in</code> 语句会为集合（或实现了 <a href="https://developer.apple.com/documentation/swift/sequence" target="_blank" rel="noopener noreferrer">Sequence<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 协议的任意类型）中的每一项执行一次代码块。</p> <p><code>for-in</code> 语句的形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">for</span> item <span class="token keyword">in</span> collection <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>for-in</code> 语句在循环开始前会调用集合表达式（<code>collection expression</code>）的 <code>makeIterator()</code> 方法来获取一个实现了 <a href="https://developer.apple.com/documentation/swift/iteratorprotocol" target="_blank" rel="noopener noreferrer">IteratorProtocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 协议的迭代器类型。接下来循环开始，反复调用该迭代器的 <code>next()</code> 方法。如果其返回值不是 <code>nil</code>，它将会被赋给 <code>item</code>，然后执行循环体语句，执行完毕后回到循环开始处，继续重复这一过程；否则，既不会赋值也不会执行循环体语句，<code>for-in</code> 语句至此执行完毕。</p> <blockquote><p>for-in 语句语法</p></blockquote> <p><strong>for-in-statement</strong></p> <blockquote><p><em>for-in 语句</em> → <strong>for</strong> <strong>case</strong>可选 <a href="/pages/55b4cd/">模式</a> <strong>in</strong> <a href="">表达式</a> <a href="">where 子句</a>可选 <a href="">代码块</a></p></blockquote> <h4 id="while-语句"><a href="#while-语句" class="header-anchor">#</a> While 语句</h4> <p>只要循环条件为真，<code>while</code> 语句就会重复执行代码块。</p> <p><code>while</code> 语句的形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">while</span> condition <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>while</code> 语句的执行流程如下：</p> <ol><li>判断条件（<code>condition</code>）的值。如果为 <code>true</code>，转到第 2 步；如果为 <code>false</code>，<code>while</code> 语句至此执行完毕。</li> <li>执行循环体中的语句，然后重复第 1 步。</li></ol> <p>由于会在执行循环体中的语句前判断条件的值，因此循环体中的语句可能会被执行若干次，也可能一次也不会被执行。</p> <p>条件的结果必须是 Bool 类型或者 Bool 的桥接类型。另外，条件语句也可以使用可选绑定，请参阅 <a href="">可选绑定</a>。</p> <blockquote><p>while 语句语法</p></blockquote> <p><strong>while-statement</strong></p> <blockquote><p><em>while 语句</em> → <strong>while</strong> <a href="">条件子句</a> <a href="">代码块</a></p></blockquote> <p><strong>condition-clause</strong></p> <blockquote><p><em>条件子句</em> → <a href="">表达式</a> | <a href="">表达式</a> <strong>,</strong> <a href="">条件列表</a></p></blockquote> <p><strong>condition</strong></p> <blockquote><p><em>条件</em> → <a href="">表达式</a> |<a href="">可用性条件</a> | <a href="">case 条件</a> | <a href="">可选绑定条件</a></p></blockquote> <p><strong>case-condition</strong></p> <blockquote><p><em>case 条件</em> → <strong>case</strong> <a href="/pages/55b4cd/">模式</a> <a href="">构造器</a></p></blockquote> <p><strong>optional-binding-condition</strong></p> <blockquote><p><em>可选绑定条件</em> → <strong>let</strong> <a href="/pages/55b4cd/">模式</a> <a href="">构造器</a> | <strong>var</strong> <a href="/pages/55b4cd/">模式</a> <a href="">构造器</a></p></blockquote> <h4 id="repeat-while-语句"><a href="#repeat-while-语句" class="header-anchor">#</a> Repeat-While 语句</h4> <p><code>repeat-while</code> 语句至少执行一次代码块，之后只要循环条件为真，就会重复执行代码块。</p> <p><code>repeat-while</code> 语句的形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">repeat</span> <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span> <span class="token keyword">while</span> condition
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>repeat-while</code> 语句的执行流程如下：</p> <ol><li>执行循环体中的语句，然后转到第 2 步。</li> <li>判断条件的值。如果为 <code>true</code>，重复第 1 步；如果为 <code>false</code>，<code>repeat-while</code> 语句至此执行完毕。</li></ol> <p>由于条件的值是在循环体中的语句执行后才进行判断，因此循环体中的语句至少会被执行一次。</p> <p>条件的结果必须是 Bool 类型或者 Bool 的桥接类型。另外，条件语句也可以使用可选绑定，请参阅 <a href="">可选绑定</a>。</p> <blockquote><p>repeat-while 语句语法</p></blockquote> <p><strong>repeat-while-statement</strong></p> <blockquote><p><em>repeat-while 语句</em> → <strong>repeat</strong> <a href="">代码块</a> <strong>while</strong> <a href="">表达式</a></p></blockquote> <h3 id="分支语句"><a href="#分支语句" class="header-anchor">#</a> 分支语句</h3> <p>分支语句会根据一个或者多个条件来执行指定部分的代码。分支语句中的条件将会决定程序如何分支以及执行哪部分代码。Swift 提供三种类型的分支语句：<code>if</code> 语句、 <code>guard</code> 语句和 <code>switch</code> 语句。</p> <p><code>if</code> 语句和 <code>switch</code> 语句中的控制流可以用 <code>break</code> 语句改变，请参阅 <a href="">Break 语句</a>。</p> <blockquote><p>分支语句语法</p></blockquote> <p><strong>branch-statement</strong></p> <blockquote><p><em>分支语句</em> → <a href="">if 语句</a></p> <p><em>分支语句</em> → <a href="">guard 语句</a></p> <p><em>分支语句</em> → <a href="">switch 语句</a></p></blockquote> <h4 id="if-语句"><a href="#if-语句" class="header-anchor">#</a> If 语句</h4> <p><code>if</code> 语句会根据一个或多个条件来决定执行哪一块代码。</p> <p><code>if</code> 语句有两种基本形式，无论哪种形式，都必须有花括号。</p> <p>第一种形式是当且仅当条件为真时执行代码，像下面这样：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">if</span> condition <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>第二种形式是在第一种形式的基础上添加 <code>else</code> 语句（通过引入 <code>else</code> 关键字），并且用于：当条件为真时执行一部分代码，当这同一个条件为假的时候执行另一部分代码。当只有一个 <code>else</code> 语句时，<code>if</code> 语句具有以下的形式：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">if</span> condition <span class="token punctuation">{</span>
    statements to execute <span class="token keyword">if</span> condition <span class="token keyword">is</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    statements to execute <span class="token keyword">if</span> condition <span class="token keyword">is</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>if</code> 语句的 <code>else</code> 语句也可包含另一个 <code>if</code> 语句，从而形成一条链来测试更多的条件，像下面这样：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">if</span> condition <span class="token number">1</span> <span class="token punctuation">{</span>
    statements to execute <span class="token keyword">if</span> condition <span class="token number">1</span> <span class="token keyword">is</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> condition <span class="token number">2</span> <span class="token punctuation">{</span>
    statements to execute <span class="token keyword">if</span> condition <span class="token number">2</span> <span class="token keyword">is</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    statements to execute <span class="token keyword">if</span> both conditions are <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>if</code> 语句中条件的结果必须是 Bool 类型或者 Bool 的桥接类型。另外，条件语句也可以使用可选绑定，请参阅 <a href="">可选绑定</a>。</p> <blockquote><p>if 语句语法</p></blockquote> <p><strong>if-statement</strong></p> <blockquote><p><em>if 语句</em> → <strong>if</strong> <a href="">条件子句</a> <a href="">代码块</a> <a href="">else 子句</a>可选</p></blockquote> <p><strong>else-clause</strong></p> <blockquote><p><em>else 子句</em> → <strong>else</strong> <a href="">代码块</a> | <strong>else</strong> <a href="">if 语句</a></p></blockquote> <h4 id="guard-语句"><a href="#guard-语句" class="header-anchor">#</a> Guard 语句</h4> <p>如果一个或者多个条件不成立，可用 <code>guard</code> 语句来退出当前作用域。</p> <p><code>guard</code> 语句的格式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">guard</span> condition <span class="token keyword">else</span> <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>guard</code> 语句中条件的结果必须是 Bool 类型或者 Bool 的桥接类型。另外，条件也可以是一条可选绑定，请参阅 <a href="">可选绑定</a>。</p> <p>在 <code>guard</code> 语句中进行可选绑定的任何常量或者变量，其可用范围从声明开始直到作用域结束。</p> <p><code>guard</code> 语句必须有 <code>else</code> 子句，而且必须在该子句中调用返回类型是 <code>Never</code> 的函数，或者使用下面的语句退出当前作用域：</p> <ul><li><code>return</code></li> <li><code>break</code></li> <li><code>continue</code></li> <li><code>throw</code></li></ul> <p>关于控制转移语句，请参阅 <a href="">控制转移语句</a>。关于 <code>Never</code> 返回类型的函数，请参阅 <a href="">永不返回的函数</a>。</p> <blockquote><p>guard 语句语法</p></blockquote> <p><strong>guard-statement</strong></p> <blockquote><p><em>guard 语句</em> → <strong>guard</strong> <a href="">条件子句</a> <strong>else</strong> <a href="">代码块</a></p></blockquote> <h4 id="switch-语句"><a href="#switch-语句" class="header-anchor">#</a> Switch 语句</h4> <p><code>switch</code> 语句会根据控制表达式的值来决定执行哪部分代码。</p> <p><code>switch</code> 语句的形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">switch</span> control expression <span class="token punctuation">{</span>
<span class="token keyword">case</span> pattern <span class="token number">1</span><span class="token punctuation">:</span>
    statements
<span class="token keyword">case</span> pattern <span class="token number">2</span> <span class="token keyword">where</span> condition<span class="token punctuation">:</span>
    statements
<span class="token keyword">case</span> pattern <span class="token number">3</span> <span class="token keyword">where</span> condition<span class="token punctuation">,</span>
     pattern <span class="token number">4</span> <span class="token keyword">where</span> condition<span class="token punctuation">:</span>
    statements
<span class="token keyword">default</span><span class="token punctuation">:</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>switch</code> 语句会先计算<em>控制表达式</em>的值，然后与每一个 <code>case</code> 的模式进行匹配。如果匹配成功，程序将会执行对应的 <code>case</code> 中的语句。另外，每一个 <code>case</code> 的作用域都不能为空，也就是说在每一个 <code>case</code> 的冒号（<code>:</code>）后面必须至少有一条语句。如果你不想在匹配到的 <code>case</code> 中执行代码，只需在该 <code>case</code> 中写一条 <code>break</code> 语句即可。</p> <p>可以用作控制表达式的值是十分灵活的。除了标量类型外，如 <code>Int</code>、<code>Character</code>，你可以使用任何类型的值，包括浮点数、字符串、元组、自定义类型的实例和可选类型。控制表达式的值还可以用来匹配枚举类型中的成员值或是检查该值是否包含在指定的 <code>Range</code> 中。关于如何在 <code>switch</code> 语句中使用这些类型，请参阅 <a href="/pages/544cb0/">控制流</a> 一章中的 <a href="">Switch</a>。</p> <p>每个 <code>case</code> 的模式后面可以有一个 <code>where</code> 子句。<code>where</code> 子句由 <code>where</code> 关键字紧跟一个提供额外条件的表达式组成。因此，当且仅当控制表达式匹配一个 <code>case</code> 的模式且 <code>where</code> 子句的表达式为真时，<code>case</code> 中的语句才会被执行。在下面的例子中，控制表达式只会匹配包含两个相等元素的元组，例如 <code>(1, 1)</code>：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">case</span> <span class="token keyword">let</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">where</span> x <span class="token operator">==</span> y<span class="token punctuation">:</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>正如上面这个例子，也可以在模式中使用 <code>let</code>（或 <code>var</code>）语句来绑定常量（或变量）。这些常量（或变量）可以在对应的 <code>where</code> 子句以及 <code>case</code> 中的代码中使用。但是，如果一个 <code>case</code> 中含有多个模式，所有的模式必须包含相同的常量（或变量）绑定，并且每一个绑定的常量（或变量）必须在所有的条件模式中都有相同的类型。</p> <p><code>switch</code> 语句也可以包含默认分支，使用 <code>default</code> 关键字表示。只有所有 <code>case</code> 都无法匹配控制表达式时，默认分支中的代码才会被执行。一个 <code>switch</code> 语句只能有一个默认分支，而且必须在 <code>switch</code> 语句的最后面。</p> <p><code>switch</code> 语句中 <code>case</code> 的匹配顺序和源代码中的书写顺序保持一致。因此，当多个模式都能匹配控制表达式时，只有第一个匹配的 <code>case</code> 中的代码会被执行。</p> <p><strong>Switch 语句必须是详尽的</strong></p> <p>在 Swift 中，<code>switch</code> 语句中控制表达式的每一个可能的值都必须至少有一个 <code>case</code> 与之对应。在某些无法面面俱到的情况下（例如，表达式的类型是 <code>Int</code>），你可以使用 <code>default</code> 分支满足该要求。</p> <p><strong>对未来枚举的 case 进行 switch</strong></p> <p>非冻结枚举（<code>nonfronzen enumeration</code>）是一种特殊的枚举类型，它可能在未来会增加新的枚举 <code>case</code>，即使这时候你已经编译并且发布了你的应用，所以在 switch 非冻结枚举前需要深思熟虑。当一个库的作者们把一个枚举标记为非冻结的，这意味着他们保留了增加新的枚举 <code>case</code> 的权利，并且任何和这个枚举交互的代码都<em>必须</em>在无需重新编译的条件下能够处理那些未来可能新加入的 <code>case</code> 。只有演进模式的库代码、标准库代码、用 Swift 实现的 Apple 框架、C 以及 Objective-C 代码才能够声明非冻结枚举。更多关于冻结和非冻结枚举的内容，请参阅 <a href="">冻结</a>。</p> <p>当你对未来枚举进行 switch 时，你总是需要有一个 <code>default case</code>，即使每种枚举类型都已经有对应的 <code>case</code> 了。你可以在 default 前标注 <code>@unknown</code>，意思是这个 <code>case</code> 应该只匹配未来加入的枚举 <code>case</code>。如果你的 <code>default case</code> 中匹配了任何在编译时就能确定的枚举 <code>case</code>，Swift 会抛出一个警告。这可以很好地提醒你库的作者已经新增了一种 <code>case</code>，并且你还没有去处理。</p> <p>以下就是一个例子，我们对标准库的 <a href="https://developer.apple.com/documentation/swift/mirror/ancestorrepresentation" target="_blank" rel="noopener noreferrer">Mirror.AncestorRepresentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 枚举进行 switch 操作。每当有新的 <code>case</code> 加入，我们会得到一个警告，提示我们要去处理它。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> representation<span class="token punctuation">:</span> <span class="token class-name">Mirror</span><span class="token punctuation">.</span><span class="token class-name">AncestorRepresentation</span> <span class="token operator">=</span> <span class="token punctuation">.</span>generated
<span class="token keyword">switch</span> representation <span class="token punctuation">{</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>customized<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Use the nearest ancestor’s implementation.&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>generated<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Generate a default mirror for all ancestor classes.&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span>suppressed<span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Suppress the representation of all ancestor classes.&quot;</span></span><span class="token punctuation">)</span>
<span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Use a representation that was unknown when this code was compiled.&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// Prints &quot;Generate a default mirror for all ancestor classes.&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>不存在隐式落入</strong></p> <p>当匹配到的 <code>case</code> 中的代码执行完毕后，<code>switch</code> 语句会直接退出，而不会继续执行下一个 <code>case</code> 。这就意味着，如果你想执行下一个 <code>case</code>，需要显式地在当前 <code>case</code> 中使用 <code>fallthrough</code> 语句。关于 <code>fallthrough</code> 语句的更多信息，请参阅 <a href="">Fallthrough 语句</a>。</p> <blockquote><p>switch 语句语法</p></blockquote> <p><strong>switch-statement</strong></p> <blockquote><p><em>switch 语句</em> → <strong>switch</strong> <a href="">表达式</a> <strong>{</strong> <a href="">switch-case 列表</a>可选 <strong>}</strong></p></blockquote> <p><strong>switch-cases</strong></p> <blockquote><p><em>switch case 列表</em> → <a href="">switch-case</a> <a href="">switch-case 列表</a>可选</p></blockquote> <p><strong>switch-case</strong></p> <blockquote><p><em>switch case</em> → <a href="">case 标签</a> <a href="">多条语句</a> | <a href="">default 标签</a> <a href="">多条语句</a> | <a href="">conditional-switch-case</a></p></blockquote> <p><strong>case-label</strong></p> <blockquote><p><em>case 标签</em> → <a href="/pages/ce0459/">属性</a>可选 <strong>case</strong> <a href="">case 项列表</a> <strong>:</strong></p></blockquote> <p><strong>case-item-list</strong></p> <blockquote><p><em>case 项列表</em> → <a href="/pages/55b4cd/">模式</a> <a href="">where 子句</a>可选 | <a href="/pages/55b4cd/">模式</a> <a href="">where 子句</a>可选 <strong>,</strong> <a href="">case 项列表</a></p></blockquote> <p><strong>default-label</strong></p> <blockquote><p><em>default 标签</em> → <a href="/pages/ce0459/">属性</a>可选 <strong>default</strong> <strong>:</strong></p></blockquote> <p><strong>where-clause</strong></p> <blockquote><p><em>where-clause</em> → <strong>where</strong> <a href="">where 表达式</a></p></blockquote> <p><strong>where-expression</strong></p> <blockquote><p><em>where-expression</em> → <a href="">表达式</a></p></blockquote> <p><strong>grammar-conditional-switch-case</strong></p> <blockquote><p><em>conditional-switch-case</em> → <a href="">switch-if-directive-clause</a> <a href="">switch-elseif-directive-clauses</a> 可选 <a href="">switch-else-directive-clause</a> 可选 <a href="">endif-directive</a></p></blockquote> <p><strong>grammar-switch-if-directive-clause</strong></p> <blockquote><p><em>switch-if-directive 语句</em> → <a href="">if-directive</a> <a href="">compilation-condition</a> <a href="">switch-cases</a> 可选</p></blockquote> <p><strong>grammar-switch-elseif-directive-clauses</strong></p> <blockquote><p><em>switch-elseif-directive 语句（复数）</em> → <a href="">elseif-directive-clause</a> <a href="">switch-elseif-directive-clauses</a>可选</p></blockquote> <p><strong>grammar-switch-elseif-directive-clause</strong></p> <blockquote><p><em>switch-elseif-directive 语句</em> → <a href="">elseif-directive</a> <a href="">compilation-condition</a> <a href="">switch-cases</a>可选</p></blockquote> <p><strong>grammar-switch-else-directive-clause</strong></p> <blockquote><p><em>switch-else-directive 语句</em> → <a href="">else-directive</a> <a href="">switch-cases</a> 可选</p></blockquote> <h3 id="带标签的语句"><a href="#带标签的语句" class="header-anchor">#</a> 带标签的语句</h3> <p>你可以在循环语句或 <code>switch</code> 语句前面加上标签，它由标签名和紧随其后的冒号（<code>:</code>）组成。在 <code>break</code> 和 <code>continue</code> 后面跟上标签名可以显式地在循环语句或 <code>switch</code> 语句中改变相应的控制流。关于这两条语句用法，请参阅 <a href="">Break 语句</a> 和 <a href="">Continue 语句</a>。</p> <p>标签的作用域在该标签所标记的语句内。可以嵌套使用带标签的语句，但标签名必须唯一。</p> <p>关于使用带标签的语句的例子，请参阅 <a href="/pages/544cb0/">控制流</a> 一章中的 <a href="">带标签的语句</a>。</p> <blockquote><p>带标签的语句语法</p></blockquote> <p><strong>labeled-statement</strong></p> <blockquote><p><em>带标签的语句</em> → <a href="">语句标签</a> <a href="">循环语句</a></p> <p><em>带标签的语句</em> → <a href="">语句标签</a> <a href="">if 语句</a></p> <p><em>带标签的语句</em> → <a href="">语句标签</a> <a href="">switch 语句</a></p> <blockquote><p><em>带标签的语句</em> → <a href="">语句标签</a> <a href="">do 语句</a></p></blockquote></blockquote> <p><strong>statement-label</strong></p> <blockquote><p><em>语句标签</em> → <a href="">标签名称</a> <strong>:</strong></p></blockquote> <p><strong>label-name</strong></p> <blockquote><p><em>标签名称</em> → <a href="">标识符</a></p></blockquote> <h3 id="控制转移语句"><a href="#控制转移语句" class="header-anchor">#</a> 控制转移语句</h3> <p>控制转移语句能够无条件地把控制权从一片代码转移到另一片代码，从而改变代码执行的顺序。Swift 提供五种类型的控制转移语句：<code>break</code> 语句、<code>continue</code> 语句、<code>fallthrough</code> 语句、<code>return</code> 语句和 <code>throw</code> 语句。</p> <blockquote><p>控制转移语句语法</p></blockquote> <p><strong>control-transfer-statement</strong></p> <blockquote><p><em>控制转移语句</em> → <a href="">break 语句</a></p> <p><em>控制转移语句</em> → <a href="">continue 语句</a></p> <p><em>控制转移语句</em> → <a href="">fallthrough 语句</a></p> <p><em>控制转移语句</em> → <a href="">return 语句</a></p> <p><em>控制转移语句</em> → <a href="">throw 语句</a></p></blockquote> <h4 id="break-语句"><a href="#break-语句" class="header-anchor">#</a> Break 语句</h4> <p><code>break</code> 语句用于终止循环语句、<code>if</code> 语句或 <code>switch</code> 语句的执行。使用 <code>break</code> 语句时，可以只写 <code>break</code> 这个关键词，也可以在 <code>break</code> 后面跟上标签名，像下面这样：</p> <blockquote><p>break</p> <p>break <code>label name</code></p></blockquote> <p>当 <code>break</code> 语句后面带标签名时，可用于终止由这个标签标记的循环语句、<code>if</code> 语句或 <code>switch</code> 语句的执行。</p> <p>而只写 <code>break</code> 时，则会终止 <code>switch</code> 语句或 <code>break</code> 语句所属的最内层循环语句的执行。不能使用 <code>break</code> 语句来终止未使用标签的 <code>if</code> 语句。</p> <p>无论哪种情况，控制权都会被转移给被终止的控制流语句后面的第一行语句。</p> <p>关于使用 <code>break</code> 语句的例子，请参阅 <a href="/pages/544cb0/">控制流</a> 一章的 <a href="">Break</a> 和 <a href="">带标签的语句</a>。</p> <blockquote><p>break 语句语法</p></blockquote> <p><strong>break-statement</strong></p> <blockquote><p><em>break 语句</em> → <strong>break</strong> <a href="">标签名称</a>可选</p></blockquote> <h4 id="continue-语句"><a href="#continue-语句" class="header-anchor">#</a> Continue 语句</h4> <p><code>continue</code> 语句用于终止循环中当前迭代的执行，但不会终止该循环的执行。使用 <code>continue</code> 语句时，可以只写 <code>continue</code> 这个关键词，也可以在 <code>continue</code> 后面跟上标签名，像下面这样：</p> <blockquote><p>continue</p> <p>continue <code>label name</code></p></blockquote> <p>当 <code>continue</code> 语句后面带标签名时，可用于终止由这个标签标记的循环中当前迭代的执行。</p> <p>而当只写 <code>continue</code> 时，可用于终止 <code>continue</code> 语句所属的最内层循环中当前迭代的执行。</p> <p>在这两种情况下，控制权都会被转移给循环语句的条件语句。</p> <p>在 <code>for</code> 语句中，<code>continue</code> 语句执行后，增量表达式还是会被计算，这是因为每次循环体执行完毕后，增量表达式都会被计算。</p> <p>关于使用 <code>continue</code> 语句的例子，请参阅 <a href="/pages/544cb0/">控制流</a> 一章的 <a href="">Continue</a> 和 <a href="">带标签的语句</a>。</p> <blockquote><p>continue 语句语法</p></blockquote> <p><strong>continue-statement</strong></p> <blockquote><p><em>continue 语句</em> → <strong>continue</strong> <a href="">标签名称</a>可选</p></blockquote> <h4 id="fallthrough-语句"><a href="#fallthrough-语句" class="header-anchor">#</a> Fallthrough 语句</h4> <p><code>fallthrough</code> 语句用于在 <code>switch</code> 语句中转移控制权。<code>fallthrough</code> 语句会把控制权从 <code>switch</code> 语句中的一个 <code>case</code> 转移到下一个 <code>case</code>。这种控制权转移是无条件的，即使下一个 <code>case</code> 的模式与 <code>switch</code> 语句的控制表达式的值不匹配。</p> <p><code>fallthrough</code> 语句可出现在 <code>switch</code> 语句中的任意 <code>case</code> 中，但不能出现在最后一个 <code>case</code> 中。同时，<code>fallthrough</code> 语句也不能把控制权转移到使用了值绑定的 <code>case</code>。</p> <p>关于在 <code>switch</code> 语句中使用 <code>fallthrough</code> 语句的例子，请参阅 <a href="/pages/544cb0/">控制流</a> 一章的 <a href="">控制转移语句</a>。</p> <blockquote><p>fallthrough 语句语法</p></blockquote> <p><strong>fallthrough-statement</strong></p> <blockquote><p><em>fallthrough 语句</em> → <strong>fallthrough</strong></p></blockquote> <h4 id="return-语句"><a href="#return-语句" class="header-anchor">#</a> Return 语句</h4> <p><code>return</code> 语句用于在函数或方法的实现中将控制权转移到调用函数或方法，接着程序将会从调用位置继续向下执行。</p> <p>使用 <code>return</code> 语句时，可以只写 <code>return</code> 这个关键词，也可以在 <code>return</code> 后面跟上表达式，像下面这样：</p> <blockquote><p>return</p> <p>return <code>expression</code></p></blockquote> <p>当 <code>return</code> 语句后面带表达式时，表达式的值将会返回给调用函数或方法。如果表达式的值的类型与函数或者方法声明的返回类型不匹配，Swift 则会在返回表达式的值之前将表达式的值的类型转换为返回类型。</p> <blockquote><p>注意</p> <p>正如 <a href="/pages/1b072a/#可失败构造器">可失败构造器</a> 中所描述的，<code>return nil</code> 在可失败构造器中用于表明构造失败。</p></blockquote> <p>而只写 <code>return</code> 时，仅仅是从该函数或方法中返回，而不返回任何值（也就是说，函数或方法的返回类型为 <code>Void</code> 或者说 <code>()</code>）。</p> <blockquote><p>return 语句语法</p></blockquote> <p><strong>return-statement</strong></p> <blockquote><p><em>return 语句</em> → <strong>return</strong> <a href="">表达式</a>可选</p></blockquote> <h4 id="throw-语句"><a href="#throw-语句" class="header-anchor">#</a> Throw 语句</h4> <p><code>throw</code> 语句出现在抛出函数或者抛出方法体内，或者类型被 <code>throws</code> 关键字标记的闭包表达式体内。</p> <p><code>throw</code> 语句使程序在当前作用域结束执行，并向外围作用域传播错误。抛出的错误会一直传递，直到被 <code>do</code> 语句的 <code>catch</code> 子句处理掉。</p> <p><code>throw</code> 语句由 <code>throw</code> 关键字紧跟一个表达式组成，如下所示：</p> <blockquote><p>throw <code>expression</code></p></blockquote> <p>表达式的结果必须符合 <code>ErrorType</code> 协议。</p> <p>关于如何使用 <code>throw</code> 语句的例子，请参阅 <a href="/pages/cc5b2d/">错误处理</a> 一章的 <a href="">用 throwing 函数传递错误</a>。</p> <blockquote><p>throw 语句语法</p></blockquote> <p><strong>throw-statement</strong></p> <blockquote><p><em>throw 语句</em> → <strong>throw</strong> <a href="">表达式</a></p></blockquote> <h3 id="defer-语句"><a href="#defer-语句" class="header-anchor">#</a> Defer 语句</h3> <p><code>defer</code> 语句用于在退出当前作用域之前执行代码。</p> <p><code>defer</code> 语句形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">defer</span> <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在 <code>defer</code> 语句中的语句无论程序控制如何转移都会被执行。在某些情况下，例如，手动管理资源时，比如关闭文件描述符，或者即使抛出了错误也需要执行一些操作时，就可以使用 <code>defer</code> 语句。</p> <p>如果多个 <code>defer</code> 语句出现在同一作用域内，那么它们执行的顺序与出现的顺序相反。给定作用域中的第一个 <code>defer</code> 语句，会在最后执行，这意味着代码中最靠后的 <code>defer</code> 语句中引用的资源可以被其他 <code>defer</code> 语句清理掉。</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;First&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Second&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Third&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 打印“Third”</span>
<span class="token comment">// 打印“Second”</span>
<span class="token comment">// 打印“First”</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>defer</code> 语句中的语句无法将控制权转移到 <code>defer</code> 语句外部。</p> <blockquote><p>defer 语句语法</p></blockquote> <p><strong>defer-statement</strong></p> <blockquote><p><em>延迟语句</em> → <strong>defer</strong> <a href="">代码块</a></p></blockquote> <h3 id="do-语句"><a href="#do-语句" class="header-anchor">#</a> Do 语句</h3> <p><code>do</code> 语句用于引入一个新的作用域，该作用域中可以含有一个或多个 <code>catch</code> 子句，<code>catch</code> 子句中定义了一些匹配错误条件的模式。<code>do</code> 语句作用域内定义的常量和变量只能在 <code>do</code> 语句作用域内使用。</p> <p>Swift 中的 <code>do</code> 语句与 C 中限定代码块界限的大括号（<code>{}</code>）很相似，也并不会降低程序运行时的性能。</p> <p><code>do</code> 语句的形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">do</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> expression
    statements
<span class="token punctuation">}</span> <span class="token keyword">catch</span> pattern <span class="token number">1</span> <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span> <span class="token keyword">catch</span> pattern <span class="token number">2</span> <span class="token keyword">where</span> condition <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span> <span class="token keyword">catch</span> pattern <span class="token number">3</span><span class="token punctuation">,</span> pattern <span class="token number">4</span> <span class="token keyword">where</span> condition <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
    statements
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如果 <code>do</code> 代码块中的任何语句抛出了错误，程序会跳转到第一个能模式匹配该错误的 <code>catch</code> 子句。如果没有任何子句匹配，错误会传递到外层作作用域。如果错误在最顶层依旧没有被处理，程序执行会因为运行时错误而停止。</p> <p>如同 <code>switch</code> 语句，编译器会判断 <code>catch</code> 子句是否有遗漏。如果 <code>catch</code> 子句没有遗漏，则认为错误已被处理。否则，错误会自动传递到外层作用域，被某个 <code>catch</code> 子句处理掉或者被用 <code>throws</code> 关键字声明的抛出函数继续向外抛出。</p> <p>拥有多个模式匹配的 <code>catch</code> 子句只需其中一个匹配到错误即可。如果 <code>catch</code> 子句拥有多个模式匹配，所有的模式必须包含相同的绑定常量或变量，并且每个 <code>catch</code> 子句里所有绑定的变量或常量的类型必须相同。</p> <p>为了确保错误已经被处理，可以让 <code>catch</code> 子句使用匹配所有错误的模式，如通配符模式（<code>_</code>）。如果一个 <code>catch</code> 子句不指定一种具体模式，<code>catch</code> 子句会匹配任何错误，并绑定到名为 <code>error</code> 的局部常量。有关在 <code>catch</code> 子句中使用模式的更多信息，请参阅 <a href="/pages/55b4cd/">模式</a>。</p> <p>关于如何在 <code>do</code> 语句中使用一系列 <code>catch</code> 子句的例子，请参阅 <a href="/pages/cc5b2d/">错误处理</a>。</p> <blockquote><p>do 语句语法</p></blockquote> <p><strong>do-statement</strong></p> <blockquote><p><em>do 语句</em> → <strong>do</strong> <a href="">代码块</a> <a href="">多条 catch 子句</a>可选</p></blockquote> <p><strong>catch-clauses</strong></p> <blockquote><p><em>多条 catch 子句</em> → <a href="">catch 子句</a> <a href="">多条 catch 子句</a>可选</p></blockquote> <p><strong>catch-clause</strong></p> <blockquote><p><em>catch 子句</em> → <strong>catch</strong> <a href="/pages/55b4cd/">模式</a>可选 <a href="">where 子句</a>可选 <a href="">代码块</a></p></blockquote> <p><strong>catch-pattern-list</strong></p> <blockquote><p><em>catch 模式列表</em> → <a href="">catch 模式</a> | <a href="">catch 模式</a> ，<a href="">catch 模式列表</a></p></blockquote> <p><strong>catch-pattern</strong></p> <blockquote><p><em>catch 模式</em> → <a href="/pages/55b4cd/">模式</a> <a href="">where 子句</a>可选</p></blockquote> <h3 id="编译器控制语句"><a href="#编译器控制语句" class="header-anchor">#</a> 编译器控制语句</h3> <p>编译器控制语句允许程序改变编译器的行为。Swift 有三种编译器控制语句：条件编译语句、线路控制语句和编译时诊断语句。</p> <blockquote><p>编译器控制语句语法</p></blockquote> <p><strong>compiler-control-statement</strong></p> <blockquote><p><em>编译器控制语句</em> → <a href="">条件编译语句</a></p> <p><em>编译器控制语句</em> → <a href="">线路控制语句</a></p> <p><em>编译器控制语句</em> → <a href="">诊断语句</a></p></blockquote> <h4 id="条件编译代码块"><a href="#条件编译代码块" class="header-anchor">#</a> 条件编译代码块</h4> <p>条件编译代码块可以根据一个或多个配置来有条件地编译代码。</p> <p>每一个条件编译代码块都以 <code>#if</code> 开始，<code>#endif</code> 结束。如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token directive property"><span class="token directive-name">#if</span> compilation condition</span>
statements
<span class="token directive property"><span class="token directive-name">#endif</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>和 <code>if</code> 语句的条件不同，编译配置的条件是在编译时进行判断的。只有编译配置在编译时判断为 <code>true</code> 的情况下，相应的语句才会被编译和执行。</p> <p>编译配置可以是 <code>true</code> 和 <code>false</code> 的字面量，也可以是使用 <code>-D</code> 命令行标志的标识符，或者是下列表格中的任意一个平台检测函数。</p> <table><thead><tr><th>函数</th> <th>可用参数</th></tr></thead> <tbody><tr><td><code>os()</code></td> <td><code>OSX</code>, <code>iOS</code>, <code>watchOS</code>, <code>tvOS</code>, <code>Linux</code></td></tr> <tr><td><code>arch()</code></td> <td><code>i386</code>, <code>x86_64</code>, <code>arm</code>, <code>arm64</code></td></tr> <tr><td><code>swift()</code></td> <td><code>&gt;=</code> 或 <code>&lt;</code> 后跟版本号</td></tr> <tr><td><code>compiler()</code></td> <td><code>&gt;=</code> 或 <code>&lt;</code> 后跟版本号</td></tr> <tr><td><code>canImport()</code></td> <td>模块名</td></tr> <tr><td><code>targetEnvironment()</code></td> <td><code>simulator</code>，<code>macCatalyst</code></td></tr></tbody></table> <p>在 <code>swift()</code> 和 <code>compiler()</code> 之后的版本号包含有主版本号，可选副版本号，可选补丁版本号类似，并且用（<code>.</code>）来分隔。在比较符和版本号之间不能有空格，版本号与前面的函数相对应，比如 <code>compiler()</code> 对应的就是这个编译器的版本号，<code>swift()</code> 对应的就是你要编译的 <code>Swift</code> 语言的版本号。举个简单的例子，如果你在使用 <code>Swift 5</code> 的编译器，想编译 <code>Swift 4.2</code> ，可以看下面的例子：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token directive property"><span class="token directive-name">#if</span> compiler<span class="token punctuation">(</span><span class="token operator">&gt;=</span><span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Compiled with the Swift 5 compiler or later&quot;</span></span><span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
<span class="token directive property"><span class="token directive-name">#if</span> swift<span class="token punctuation">(</span><span class="token operator">&gt;=</span><span class="token number">4.2</span><span class="token punctuation">)</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Compiled in Swift 4.2 mode or later&quot;</span></span><span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
<span class="token directive property"><span class="token directive-name">#if</span> compiler<span class="token punctuation">(</span><span class="token operator">&gt;=</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> swift<span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Compiled with the Swift 5 compiler or later in a Swift mode earlier than 5&quot;</span></span><span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
<span class="token comment">// 打印 &quot;Compiled with the Swift 5 compiler or later&quot;</span>
<span class="token comment">// 打印 &quot;Compiled in Swift 4.2 mode or later&quot;</span>
<span class="token comment">// 打印 &quot;Compiled with the Swift 5 compiler or later in a Swift mode earlier than 5&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>canImport()</code> 后面跟的变量是模块的名字，这里这个模块可能并不是每个平台上都存在的。使用它来检测是否可以导入这个模块，如果模块存在就返回 <code>true</code> 否则返回 <code>false</code> 。</p> <p><code>targetEnvironment()</code> 当为模拟器编译时返回 <code>true</code>，否则返回 <code>false</code> 。</p> <blockquote><p>注意</p> <p><code>arch(arm)</code> 平台检测函数在 ARM 64 位设备上不会返回 <code>true</code>。如果代码在 32 位的 iOS 模拟器上编译，<code>arch(i386)</code> 平台检测函数会返回 <code>true</code>。</p></blockquote> <p>你可以使用逻辑操作符 <code>&amp;&amp;</code>、<code>||</code> 和 <code>!</code> 来组合多个编译配置，还可以使用圆括号来进行分组。</p> <p>就像 <code>if</code> 语句一样，你可以使用 <code>#elseif</code> 子句来添加任意多个条件分支来测试不同的编译配置。你也可以使用 <code>#else</code> 子句来添加最终的条件分支。包含多个分支的编译配置语句例子如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token directive property"><span class="token directive-name">#if</span> compilation condition <span class="token number">1</span></span>
statements to compile <span class="token keyword">if</span> compilation condition <span class="token number">1</span> <span class="token keyword">is</span> <span class="token boolean">true</span>
<span class="token directive property"><span class="token directive-name">#elseif</span> compilation condition <span class="token number">2</span></span>
statements to compile <span class="token keyword">if</span> compilation condition <span class="token number">2</span> <span class="token keyword">is</span> <span class="token boolean">true</span>
<span class="token directive property"><span class="token directive-name">#else</span></span>
statements to compile <span class="token keyword">if</span> both compilation conditions are <span class="token boolean">false</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>注意</p> <p>即使没有被编译，编译配置中的语句仍然会被解析。然而，唯一的例外是编译配置语句中包含语言版本检测函数：仅当 <code>Swift</code> 编译器版本和语言版本检测函数中指定的版本号匹配时，语句才会被解析。这种设定能确保旧的编译器不会尝试去解析新 Swift 版本的语法。</p></blockquote> <p><strong>build-config-statement</strong></p> <blockquote><p>条件编译代码块语法</p></blockquote> <p><strong>grammar-conditional-compilation-block</strong></p> <blockquote><p><em>条件编译代码块</em> → <a href="">if-directive 语句</a> <a href="">elseif-directive 语句（复数）</a>可选 <a href="">else-directive 语句</a>可选 <a href="">endif-directive</a></p></blockquote> <p><strong>grammar-if-directive-clause</strong></p> <blockquote><p><em>if-directive 语句</em> → <a href="">if-directive</a> <a href="">编译条件</a> <a href="">语句（复数）</a>可选</p></blockquote> <p><strong>grammar-elseif-directive-clauses</strong></p> <blockquote><p><em>elseif-directive 语句（复数）</em> → <a href="">elseif-directive 语句</a> <a href="">elseif-directive 语句（复数）</a></p></blockquote> <p><strong>grammar-elseif-directive-clauses</strong></p> <blockquote><p><em>elseif-directive 语句</em> → <a href="">elseif-directive</a> <a href="">编译条件</a> <a href="">语句（复数）</a>可选</p></blockquote> <p><strong>grammar-else-directive-clause</strong></p> <blockquote><p><em>else-directive 语句</em> → <a href="">else-directive</a> <a href="">语句（复数）</a>可选</p> <p><em>if-directive</em> → <strong>#if</strong></p> <p><em>elseif-directive</em> → <strong>#elseif</strong></p> <p><em>else-directive</em> → <strong>#else</strong></p> <p><em>endif-directive</em> → <strong>#endif</strong></p></blockquote> <p><strong>compilation-condition</strong></p> <blockquote><p><em>编译条件</em> → <a href="">平台条件</a></p> <p><em>编译条件</em> → <a href="">标识符</a></p> <p><em>编译条件</em> → <a href="">布尔值字面量</a></p> <p><em>编译条件</em> → <strong>(</strong> <a href="">编译条件</a> <strong>)</strong></p> <p><em>编译条件</em> → <strong>!</strong> <a href="">编译条件</a></p> <p><em>编译条件</em> → <a href="">编译条件</a> <strong>&amp;&amp;</strong> <a href="">编译条件</a></p> <p><em>编译条件</em> → <a href="">编译条件</a> <strong>||</strong> <a href="">编译条件</a></p></blockquote> <p><strong>grammar-platform-condition</strong></p> <p><strong>grammar-platform-condition-os</strong></p> <blockquote><p><em>平台条件</em> → <strong>os (</strong> <a href=""><strong>操作系统</strong></a> <strong>)</strong></p></blockquote> <p><strong>grammar-platform-condition-arch</strong></p> <blockquote><p><em>平台条件</em> → <strong>arch (</strong> <a href=""><strong>架构</strong></a> <strong>)</strong></p></blockquote> <p><strong>grammar-platform-condition-swift</strong></p> <blockquote><p><em>平台条件</em> → <strong>swift ( &gt;=</strong> <a href=""><strong>swift 版本</strong></a> <strong>)</strong> | <strong>swift ( &lt;</strong> <a href=""><strong>swift 版本</strong></a> <strong>)</strong></p></blockquote> <p><strong>grammar-platform-condition-compiler</strong></p> <blockquote><p><em>平台条件</em> → <strong>compiler ( &gt;=</strong> <a href=""><strong>swift 版本</strong></a> <strong>)</strong> | <strong>compiler ( &lt;</strong> <a href=""><strong>swift 版本</strong></a> <strong>)</strong></p></blockquote> <p><strong>grammar-platform-condition-canImport</strong></p> <blockquote><p><em>平台条件</em> → <strong>canImport (</strong> <a href=""><strong>模块名</strong></a> <strong>)</strong></p></blockquote> <p><strong>grammar-platform-condition-targetEnvironment</strong></p> <blockquote><p><em>平台条件</em> → <strong>targetEnvironment (</strong> <a href=""><strong>环境</strong></a> <strong>)</strong></p></blockquote> <p><strong>operating-system</strong></p> <blockquote><p><em>操作系统</em> → <strong>macOS</strong> | <strong>iOS</strong> | <strong>watchOS</strong> | <strong>tvOS</strong></p></blockquote> <p><strong>architecture</strong></p> <blockquote><p><em>架构</em> → <strong>i386</strong> | <strong>x86_64</strong> | <strong>arm</strong> | <strong>arm64</strong></p></blockquote> <p><strong>swift-version</strong></p> <blockquote><p><em>swift 版本</em> → <a href="">十进制数字</a> ­**.** ­<a href="">swift 版本延续</a> 可选</p></blockquote> <p><strong>grammar-swift-version-continuation</strong></p> <blockquote><p><em>swift 版本延续</em> → <strong>.</strong> <a href="">十进制数字</a> <a href="">swift 版本延续</a> 可选</p></blockquote> <p><strong>grammar-module-name</strong></p> <blockquote><p><em>模块名</em> → <a href="">identifier</a></p></blockquote> <p><strong>grammar-environment</strong></p> <blockquote><p><em>环境</em> → <strong>模拟器</strong> | <strong>macCatalyst</strong></p></blockquote> <h4 id="行控制语句"><a href="#行控制语句" class="header-anchor">#</a> 行控制语句</h4> <p>行控制语句可以为被编译的源代码指定行号和文件名，从而改变源代码的定位信息，以便进行分析和调试。</p> <p>行控制语句形式如下：</p> <blockquote><h2 id="sourcelocation-file-file-path-line-line-number"><a href="#sourcelocation-file-file-path-line-line-number" class="header-anchor">#</a> sourceLocation(file: file path, line: line number)</h2> <h2 id="sourcelocation"><a href="#sourcelocation" class="header-anchor">#</a> sourceLocation()</h2></blockquote> <p>第一种的行控制语句会改变该语句之后的代码中的字面量表达式 <code>#line</code>、 <code>#file</code> 和 <code>#filePath</code> 所表示的值，从行控制语句里行号的代码开始。<code>行号</code> 是一个大于 0 的整形字面量，会改变 <code>#line</code> 表达式的值。<code>文件名</code> 是一个字符串字面量，会改变 <code>#file</code> 和 <code>#filePath</code> 表达式的值。指定的字符串会变成 <code>#filePath</code> 的值，且字符串最后的路径部分会变成 <code>#file</code> 的值。</p> <p>第二种的行控制语句，<code>#sourceLocation()</code>，会将源代码的定位信息重置回默认的行号和文件名。</p> <p><strong>line-control-statement</strong></p> <blockquote><p>行控制语句语法</p> <p><em>行控制语句</em> → <strong>#sourceLocation(file:</strong><a href=""><strong>文件名</strong></a><strong>,line:</strong><a href=""><strong>行号</strong></a><strong>)</strong></p> <p><em>行控制语句</em> → <strong>#sourceLocation( )</strong></p></blockquote> <p><strong>line-number</strong></p> <blockquote><p><em>行号</em> → 大于 0 的十进制整数</p></blockquote> <p><strong>file-name</strong></p> <blockquote><p><em>文件名</em> → <a href="">静态字符串字面量</a></p></blockquote> <h4 id="编译时诊断语句"><a href="#编译时诊断语句" class="header-anchor">#</a> 编译时诊断语句</h4> <p>编译时诊断语句允许编译器在编译的时候可以发出错误或者警告。语句形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token other-directive property">#error</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;error message&quot;</span></span><span class="token punctuation">)</span>
<span class="token other-directive property">#warning</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;warning message&quot;</span></span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第一句会抛出错误信息并终止编译，第二句会发出警告信息但是编译会继续进行。你可以通过静态字符串字面量来书写诊断信息，静态字符串字面量不能使用字符串 <code>interpolation</code> 或者 <code>concatenation</code>，但可以使用多行的形式。</p> <blockquote><p>编译时诊断语句语法</p></blockquote> <p><strong>grammar-compile-time-diagnostic-statement</strong></p> <blockquote><p><em>诊断语句</em> → <strong>#error</strong> <strong>(</strong> <a href="">诊断消息</a> <strong>)</strong></p> <p><em>诊断语句</em> → <strong>#warning</strong> <strong>(</strong> <a href="">诊断消息</a> <strong>)</strong></p> <p><em>诊断语句</em> → <a href="">静态字符串字面量</a></p></blockquote> <h3 id="可用性条件"><a href="#可用性条件" class="header-anchor">#</a> 可用性条件</h3> <p>可用性条件可作为 <code>if</code>，<code>while</code>，<code>guard</code> 语句的条件，可以在运行时基于特定的平台参数来查询 API 的可用性。</p> <p>可用性条件的形式如下：</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">if</span> <span class="token other-directive property">#available</span><span class="token punctuation">(</span>platform name version<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    statements to execute <span class="token keyword">if</span> the <span class="token class-name">APIs</span> are available
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    fallback statements to execute <span class="token keyword">if</span> the <span class="token class-name">APIs</span> are unavailable
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用可用性条件来执行一个代码块时，取决于使用的 API 在运行时是否可用，编译器会根据可用性条件提供的信息来决定是否执行相应的代码块。</p> <p>可用性条件使用一系列逗号分隔的平台名称和版本。使用 <code>iOS</code>，<code>OSX</code>，以及 <code>watchOS</code> 等作为平台名称，并写上相应的版本号。<code>*</code> 参数是必须写的，用于处理未来的潜在平台。可用性条件确保了运行时的平台不低于条件中指定的平台版本时才执行代码块。</p> <p>与布尔类型的条件不同，不能用逻辑运算符 <code>&amp;&amp;</code> 和 <code>||</code> 组合可用性条件。</p> <blockquote><p>可用性条件语法</p></blockquote> <p><strong>availability-condition</strong></p> <blockquote><p><em>可用性条件</em> → <strong>#available</strong> <strong>(</strong> <a href="">可用性参数列表</a> <strong>)</strong></p></blockquote> <p><strong>availability-arguments</strong></p> <blockquote><p><em>可用性参数列表</em> → <a href="">可用性参数</a> | <a href="">可用性参数</a> <strong>,</strong> <a href="">可用性参数列表</a></p></blockquote> <p><strong>availability-argument</strong></p> <blockquote><p><em>可用性参数</em> → <a href="">平台名称</a> <a href="">平台版本</a></p> <p><em>可用性条件</em> → *****</p></blockquote> <p><strong>platform-name</strong></p> <blockquote><p><em>平台名称</em> → <strong>iOS</strong> | <strong>iOSApplicationExtension</strong></p> <p><em>平台名称</em> → <strong>OSX</strong> | <strong>macOSApplicationExtension</strong></p> <p><em>平台名称</em> → <strong>watchOS</strong></p> <p><em>平台名称</em> → <strong>tvOS</strong></p></blockquote> <p><strong>platform-version</strong></p> <blockquote><p><em>平台版本</em> → <a href="">十进制数字</a></p> <p><em>平台版本</em> → <a href="">十进制数字</a> <strong>.</strong> <a href="">十进制数字</a></p> <p><em>平台版本</em> → <a href="">十进制数字</a> <strong>.</strong> <a href="">十进制数字</a> <strong>.</strong> <a href="">十进制数字</a></p></blockquote></div></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/05/07, 16:05:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/c2fef9/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">表达式</div></a> <a href="/pages/756349/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">声明</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/c2fef9/" class="prev">表达式</a></span> <span class="next"><a href="/pages/756349/">声明</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/742912/"><div>Homebrew+RVM+Ruby+CocoaPods</div></a> <span>11-23</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/81af2e/"><div>iOS13生命周期</div></a> <span>11-14</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/258164/"><div>《Swift编程语言》- 语法总结</div></a> <span>11-11</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div> <div class="comments-wrapper"><!----></div> </main></div> <!----> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;filter:grayscale(100%);"></div> <!----> <div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f91ba302.js" defer></script><script src="/assets/js/2.dd713b59.js" defer></script><script src="/assets/js/3.069de0ac.js" defer></script><script src="/assets/js/44.24cf9514.js" defer></script>
  </body>
</html>